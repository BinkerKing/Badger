<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>我的手记列表</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link type="include" href="/common/depcss.html" />
<link type="include" href="/common/simditor.html" />
</head>
<body class="iframeBody">
	<div class="scrollbar">
		<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入标题"  class="layui-input">
		<button class="layui-btn layui-btn-small layui-btn-primary" onclick="getValue()" id ="saveHtml">
			获取信息
		</button>
		<textarea id="editor" placeholder="" autofocus required></textarea>
	</div>
</body>
<link type="include" href="/common/depjs.html" />
<script>
	var form = layui.form, layer = layui.layer;
	var toolbar = ['title','bold','italic','underline','strikethrough','fontScale','color','ol','ul','blockquote',
		  'code','table','link','image','hr','indent','outdent','alignment'];

	var editor = new Simditor({
		  textarea: $('#editor'),
		  placeholder: ' ', //占位符
		  params: {},
		  upload: true,
		  tabIndent: true,
		  toolbar: toolbar,
		  pasteImage: true,
		  allowerTags: null,
		  cleanPaste: true,
		  upload : {
              url : Const.apiUrl + "/TCustInfoController/savePic", //文件上传的接口地址
              params: null, //键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交
              fileKey: 'upload_file', //服务器端获取文件数据的参数名
              connectionCount: 3,
              leaveConfirm: '正在上传文件'
          }
	});
	
	$(function() {
		editor.setValue();
	});
	
	function getValue(){
		var value = editor.getValue();
		console.log(value);
	}
</script>
</html>